extends layout 

block content 
    h1  #{profileUser.username}
    p#followers Followers: #{followers}
    p#followings Follows: #{followings}
    if locals.authenticated
        if userId !== profileUser.id
            if !follow
                button(class=`follow ${profileUser.id}`) Follow
                p#youFollow(hidden) You follow #{profileUser.username}!
                button(class=`deleteFollow ${profileUser.id}` hidden) Unfollow
            else
                button(class=`follow ${profileUser.id}` hidden) Follow
                p#youFollow You follow #{profileUser.username}!
                button(class=`deleteFollow ${profileUser.id}`) Unfollow
    h2 #{profileUser.username} Shorts
    each short in shorts
            div= short.title 
                a(href=`/shorts/${short.id}`) View Short
                if locals.authenticated
                    if short.userId === userId 
                        button.delete(id=`${short.id}`) Delete
    if locals.authenticated
        if userId === profileUser.id
            h2 Followed Shorts:
            each short in followedShorts
                div 
                    h3= short.title 
                    pre= short.User.username 
                    p(style='overflow:hidden; text-overflow:ellipsis; max-width: 300px;')= short.content
    div 
        a(href='/') Back to Home!
    if locals.authenticated
        div 
            a(href='/shorts/create') Create a short!